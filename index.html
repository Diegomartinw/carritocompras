<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ingresar productos con array</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Productos</h1>

    <section id="articulos">
        <div class="contenedor">
            <article class="articulos">
                <img src="">
                <h4></h4>

            </article>
        </div>
    </section>

    <div id="agregar">

        <input type="text" id="imagen">
        <input type="text" id="texto">
        <input type="button" value="Ingresar producto" onclick="imagen()">
        <input type="button" value="Agregar al carrito" onclick="location.href='carrito.html'">

    </div>


    <script>

        var productos = ["Fire TV Stick 4K Ultra HD con mando por voz Alexa", "Miniproyector, 3800 lumens por menos de 80 euros", "Samsung 4K UHD de 50‚Äù"];
        var fotos = ["https://revistabyte.es/wp-content/uploads/2020/05/1-323x360.jpg.webp", "https://revistabyte.es/wp-content/uploads/2020/05/3-381x360.jpg.webp", "https://revistabyte.es/wp-content/uploads/2020/05/4-425x360.jpg.webp"];
        
        let tabular = document.querySelector(".contenedor");
        //let filas= data.split(/\r?\n|\r/);
        muestroProductos();

        function imagen() {
            let photo = document.querySelector("#imagen").value;
            let text = document.querySelector("#texto").value;
            fotos.push(photo);
            productos.push(text);
            let tabular = document.querySelector(".contenedor");

            localStorage.setItem("misfotos", JSON.stringify(fotos));
            localStorage.setItem("misproductos", JSON.stringify(productos));

            muestroProductos();

            console.log(fotos);
        }

        function muestroProductos() {
            let template = ``;
            for (let i = 0; i < fotos.length; i++) {
                let celdasFila = fotos[i].split(',');
                template += `<article class="articulos">`;
                template += `<img src="${celdasFila}"/>`;
                template += `<h4>${productos[i]}</h4>`;
                template += `</article>`;
                tabular.innerHTML = template;
            }
        }


    </script>

</body>

</html>